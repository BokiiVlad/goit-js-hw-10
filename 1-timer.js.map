{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n// // Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst butStart = document.querySelector(\".button-main\");\nconst timeInput = document.querySelector(\"#datetime-picker\");\nconst fieldDays = document.querySelector(\"[data-days]\");\nconst fieldHours = document.querySelector(\"[data-hours]\");\nconst fieldMinutes = document.querySelector(\"[data-minutes]\");\nconst fieldSeconds = document.querySelector(\"[data-seconds]\");\n//  вибраний час\nconsole.dir(fieldDays)\nlet userSelectedDate = null;\nbutStart.disabled = true;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    elements: {\n        days: fieldDays,\n        hours: fieldHours,\n        minutes: fieldMinutes,\n        seconds: fieldSeconds,\n    },\n    onClose(selectedDates) {\n        console.log(selectedDates[0]);\n        if (Date.now() > selectedDates[0].getTime()) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Please choose a date in the future.'\n            });\n            butStart.disabled = true;\n            return;\n        } else {\n            butStart.disabled = false;\n        }\n        userSelectedDate = selectedDates[0].getTime();\n    },\n};\n\nflatpickr(timeInput, options);\n\nbutStart.addEventListener(\"click\", () => {\n    const secondInterval = setInterval(() => {\n        const timeDifferense = userSelectedDate - Date.now();\n        const timeObj = convertMs(timeDifferense);\n        fieldDays.textContent = addLeadingZero(timeObj.days);\n        fieldHours.textContent = addLeadingZero(timeObj.hours);\n        fieldMinutes.textContent = addLeadingZero(timeObj.minutes);\n        fieldSeconds.textContent = addLeadingZero(timeObj.seconds);\n        if (timeDifferense <= 0) {\n            clearInterval(secondInterval);\n            butStart.disabled = true;\n            fieldDays.textContent = \"00\";\n            fieldHours.textContent = \"00\";\n            fieldMinutes.textContent = \"00\";\n            fieldSeconds.textContent = \"00\";\n        }\n    }, 1000)\n\n\n    function convertMs(ms) {\n        // Number of milliseconds per unit of time\n        const second = 1000;\n        const minute = second * 60;\n        const hour = minute * 60;\n        const day = hour * 24;\n\n        // Remaining days\n        const days = Math.floor(ms / day);\n        // Remaining hours\n        const hours = Math.floor((ms % day) / hour);\n        // Remaining minutes\n        const minutes = Math.floor(((ms % day) % hour) / minute);\n        // Remaining seconds\n        const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n        return { days, hours, minutes, seconds };\n    }\n\n});\n\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, \"0\")\n}"],"names":["butStart","timeInput","fieldDays","fieldHours","fieldMinutes","fieldSeconds","userSelectedDate","options","selectedDates","iziToast","flatpickr","secondInterval","timeDifferense","timeObj","convertMs","addLeadingZero","ms","days","hours","minutes","seconds","value"],"mappings":"+IASA,MAAMA,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAe,SAAS,cAAc,gBAAgB,EAE5D,QAAQ,IAAIH,CAAS,EACrB,IAAII,EAAmB,KACvBN,EAAS,SAAW,GAEpB,MAAMO,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,SAAU,CACN,KAAML,EACN,MAAOC,EACP,QAASC,EACT,QAASC,CACZ,EACD,QAAQG,EAAe,CAEnB,GADA,QAAQ,IAAIA,EAAc,CAAC,CAAC,EACxB,KAAK,IAAK,EAAGA,EAAc,CAAC,EAAE,UAAW,CACzCC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,qCACzB,CAAa,EACDT,EAAS,SAAW,GACpB,MACZ,MACYA,EAAS,SAAW,GAExBM,EAAmBE,EAAc,CAAC,EAAE,QAAO,CAC9C,CACL,EAEAE,EAAUT,EAAWM,CAAO,EAE5BP,EAAS,iBAAiB,QAAS,IAAM,CACrC,MAAMW,EAAiB,YAAY,IAAM,CACrC,MAAMC,EAAiBN,EAAmB,KAAK,IAAG,EAC5CO,EAAUC,EAAUF,CAAc,EACxCV,EAAU,YAAca,EAAeF,EAAQ,IAAI,EACnDV,EAAW,YAAcY,EAAeF,EAAQ,KAAK,EACrDT,EAAa,YAAcW,EAAeF,EAAQ,OAAO,EACzDR,EAAa,YAAcU,EAAeF,EAAQ,OAAO,EACrDD,GAAkB,IAClB,cAAcD,CAAc,EAC5BX,EAAS,SAAW,GACpBE,EAAU,YAAc,KACxBC,EAAW,YAAc,KACzBC,EAAa,YAAc,KAC3BC,EAAa,YAAc,KAElC,EAAE,GAAI,EAGP,SAASS,EAAUE,EAAI,CAQnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACzC,CAEL,CAAC,EAED,SAASL,EAAeM,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC"}